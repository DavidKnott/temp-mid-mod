$(document).ready(function() {
  bindCreateLinkeListenerToCreateLink();
})

function bindCreateLinkeListenerToCreateLink(){
  debugger;
  $(".add-link").on("click", function(event){
    event.preventDefault();
    createLink();
  })
}

function createLink(){
  const link = {
    link: {
      title: $("#link_title").val(),
      url: $("#link_url").val()
    }
  };
  $.ajax({
    url: "/api/v1/links",
    method: "POST",
    data: link
  })
  .done((newLink) => {
    $(".links").append(newLink);
    $("#link_title").val("");
    $("#link_url").val("");
  })
  .fail((error) => {
    console.log(error);
  });
}